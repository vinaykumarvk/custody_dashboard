<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>eMACH Custody Dashboard</title>
  <!-- Clear cache flag for browsers -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <!-- Prevent Angular auto-bootstrap -->
  <script>
    // Disable Angular auto-bootstrap if it exists
    if (window.name === 'NG_DEFER_BOOTSTRAP!') {
      window.name = '';
      console.warn('Angular bootstrap attempt detected and stopped');
    }
    // Override Angular global object
    window.angular = null;
    window.PREVENT_ANGULAR_BOOTSTRAP = true;
    
    // Clear any page variables that might be related to Angular
    try {
      if (window.localStorage) {
        // Remove any items with 'ng' or 'angular' in their keys
        Object.keys(window.localStorage)
          .filter(key => key.toLowerCase().includes('ng') || key.toLowerCase().includes('angular'))
          .forEach(key => {
            console.warn('Removing localStorage item:', key);
            window.localStorage.removeItem(key);
          });
      }
    } catch (e) {
      console.error('Error cleaning localStorage:', e);
    }
  </script>
  <!-- Load cache clearing utility -->
  <script src="clear-cache.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body data-framework="react">
  <div id="root"></div>
  <!-- Debug helper button (remove in production) -->
  <div style="position: fixed; bottom: 10px; right: 10px; z-index: 9999; display: none;">
    <button onclick="window.clearAppCache()" style="padding: 5px 10px; background: #f8f9fa; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
      Clear Cache
    </button>
  </div>
</body>
</html>